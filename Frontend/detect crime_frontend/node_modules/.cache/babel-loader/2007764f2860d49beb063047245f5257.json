{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.paginateData = exports.filterData = exports.sortData = exports.isPropFilterable = exports.getLastChildren = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _filter2 = require('lodash/filter');\n\nvar _filter3 = _interopRequireDefault(_filter2);\n\nvar _orderBy2 = require('lodash/orderBy');\n\nvar _orderBy3 = _interopRequireDefault(_orderBy2);\n\nvar _includes2 = require('lodash/includes');\n\nvar _includes3 = _interopRequireDefault(_includes2);\n\nvar _keys2 = require('lodash/keys');\n\nvar _keys3 = _interopRequireDefault(_keys2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar getLastChildren = function getLastChildren(reactElement) {\n  var isReactElement = _react2.default.isValidElement(reactElement);\n\n  return isReactElement ? getLastChildren(reactElement.props.children) : reactElement;\n};\n\nvar isPropFilterable = function isPropFilterable(tableHeader, prop) {\n  var i = 0;\n  var found = false;\n  var isFilterable = false;\n\n  while (!found && i < tableHeader.length) {\n    if (tableHeader[i].prop === prop) {\n      found = true;\n\n      if (tableHeader[i].filterable === true) {\n        isFilterable = true;\n      }\n    }\n\n    i += 1;\n  }\n\n  return isFilterable;\n};\n\nvar sortData = function sortData(sortedProp, onSort, data) {\n  var sortedData = data;\n\n  if (sortedProp !== {}) {\n    var prop = sortedProp.prop,\n        isAscending = sortedProp.isAscending;\n    var sortMultiplier = isAscending ? 'asc' : 'desc';\n    sortedData = (0, _orderBy3.default)(sortedData, function (value) {\n      var quantifiedValue = getLastChildren(value[prop]); // if onSort use the onSort[prop] function\n      // this is a handler for custom objects, such as Date\n\n      if (onSort && typeof onSort[prop] === 'function') {\n        quantifiedValue = onSort[prop](quantifiedValue);\n      }\n\n      return quantifiedValue;\n    }, sortMultiplier);\n  }\n\n  return sortedData;\n};\n\nvar filterData = function filterData(tableHeader, filterText, onFilter, data) {\n  var filteredData = data;\n\n  if (filterText !== '') {\n    filteredData = (0, _filter3.default)(filteredData, function (element) {\n      var isElementIncluded = false;\n      var i = 0;\n      var elementProps = (0, _keys3.default)(element);\n      var elementPropLength = elementProps.length;\n\n      while (!isElementIncluded && i < elementPropLength) {\n        var prop = elementProps[i];\n\n        if (isPropFilterable(tableHeader, prop)) {\n          var columnValue = element[prop]; // Get last children and fill columnValue with empty string if undefined\n\n          columnValue = getLastChildren(columnValue) || '';\n\n          if (onFilter && typeof onFilter[prop] === 'function') {\n            columnValue = onFilter[prop](columnValue);\n          } else if (typeof columnValue !== 'string') {\n            // Convert to string if it is not a string\n            columnValue = columnValue.toString();\n          }\n\n          columnValue = columnValue.toLowerCase(); // If filterText is string/substring of columnValue\n\n          isElementIncluded = (0, _includes3.default)(columnValue, filterText.toLowerCase());\n        }\n\n        i += 1;\n      }\n\n      return isElementIncluded;\n    });\n  }\n\n  return filteredData;\n};\n\nvar paginateData = function paginateData(rowsPerPage, currentPage, data) {\n  var paginatedData = data;\n\n  if (rowsPerPage !== undefined) {\n    var startRow = (currentPage - 1) * rowsPerPage;\n    var endRow = currentPage * rowsPerPage;\n    paginatedData = data.slice(startRow, endRow);\n  }\n\n  return paginatedData;\n};\n\nexports.getLastChildren = getLastChildren;\nexports.isPropFilterable = isPropFilterable;\nexports.sortData = sortData;\nexports.filterData = filterData;\nexports.paginateData = paginateData;","map":null,"metadata":{},"sourceType":"script"}