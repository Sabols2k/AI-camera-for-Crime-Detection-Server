{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\Zest-Package-1.1.0\\\\zestreact-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\Zest-Package-1.1.0\\\\zestreact-app\\\\src\\\\views\\\\general\\\\Pages\\\\Login.jsx\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { setUserSession } from './Utils/Common';\nimport { Row, Col } from 'reactstrap';\nimport 'components';\n\nfunction Login(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var username = useFormInput('');\n  var password = useFormInput('');\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1]; // handle button click of login form\n\n\n  var handleLogin = function handleLogin() {\n    setError(null);\n    setLoading(true);\n    axios.post('http://localhost:3000/auth', {\n      username: username.value,\n      password: password.value\n    }).then(function (response) {\n      setLoading(false);\n      setUserSession(response.data.token, response.data.user);\n      props.history.push('/dashboard');\n    }).catch(function (error) {\n      setLoading(false);\n      if (error.response.status === 401) setError(error.response.data.message);else setError(\"Something went wrong. Please try again later.\");\n    });\n  }; // render(){\n\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(Col, {\n    xs: 12,\n    md: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"login-wrapper row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"login\",\n    className: \"login loginpage offset-xl-4 offset-lg-3 offset-md-3 offset-0 col-12 col-md-6 col-xl-4\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"#!\",\n    title: \"Login Page\",\n    tabIndex: \"-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"\\xA0\")), React.createElement(\"form\", {\n    name: \"loginform\",\n    id: \"loginform\",\n    action: \"#!\",\n    method: \"post\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"user_login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Username\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(\"input\", Object.assign({\n    type: \"text\",\n    name: \"un\",\n    id: \"user_name\",\n    className: \"form-control\"\n  }, username, {\n    autoComplete: \"new-password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  })))), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"user_pass\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Password\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }), React.createElement(\"input\", Object.assign({\n    type: \"password\",\n    name: \"pwd\",\n    id: \"user_pass\",\n    className: \"input\",\n    size: \"20\"\n  }, password, {\n    autoComplete: \"new-password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  })))), React.createElement(\"p\", {\n    className: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"button\",\n    name: \"wp-submit\",\n    id: \"wp-submit\",\n    className: \"btn btn-accent btn-block\",\n    value: loading ? 'Loading...' : 'Login',\n    onClick: handleLogin,\n    disabled: loading,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }))), React.createElement(\"p\", {\n    id: \"nav\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    href: \"#!\",\n    title: \"Password Lost and Found\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Forgot password?\"), \" | \", React.createElement(\"a\", {\n    href: \"#!\",\n    title: \"Sign Up\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Sign Up\"))))))))); // }\n}\n\nvar useFormInput = function useFormInput(initialValue) {\n  var _useState5 = useState(initialValue),\n      _useState6 = _slicedToArray(_useState5, 2),\n      value = _useState6[0],\n      setValue = _useState6[1];\n\n  var handleChange = function handleChange(e) {\n    setValue(e.target.value);\n  };\n\n  return {\n    value: value,\n    onChange: handleChange\n  };\n};\n\nexport default Login;","map":{"version":3,"sources":["C:\\Users\\ASUS\\Desktop\\Zest-Package-1.1.0\\zestreact-app\\src\\views\\general\\Pages\\Login.jsx"],"names":["React","useState","axios","setUserSession","Row","Col","Login","props","loading","setLoading","username","useFormInput","password","error","setError","handleLogin","post","value","then","response","data","token","user","history","push","catch","status","message","initialValue","setValue","handleChange","e","target","onChange"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { setUserSession } from './Utils/Common';\r\nimport {\r\n    Row, Col,\r\n} from 'reactstrap';\r\n\r\nimport {\r\n    \r\n} from 'components';\r\n\r\nfunction Login(props) {\r\n   \r\n    const [loading, setLoading] = useState(false);\r\n    const username = useFormInput('');\r\n    const password = useFormInput('');\r\n    const [error, setError] = useState(null);\r\n    \r\n    // handle button click of login form\r\n    const handleLogin = () => {\r\n        setError(null);\r\n        setLoading(true);\r\n        axios.post('http://localhost:3000/auth', { username: username.value, password: password.value }).then(response => {\r\n        setLoading(false);\r\n        setUserSession(response.data.token, response.data.user);\r\n        props.history.push('/dashboard');\r\n        }).catch(error => {\r\n        setLoading(false);\r\n        if (error.response.status === 401) setError(error.response.data.message);\r\n        else setError(\"Something went wrong. Please try again later.\");\r\n        });\r\n    }\r\n    // render(){\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"\">\r\n                    <Row>\r\n                        <Col xs={12} md={12}>\r\n\r\n        <div className=\"container-fluid\">\r\n            <div className=\"login-wrapper row\">\r\n                <div id=\"login\" className=\"login loginpage offset-xl-4 offset-lg-3 offset-md-3 offset-0 col-12 col-md-6 col-xl-4\">\r\n                    <h1><a href=\"#!\" title=\"Login Page\" tabIndex=\"-1\">&nbsp;</a></h1>\r\n                    \r\n                    <form name=\"loginform\" id=\"loginform\" action=\"#!\" method=\"post\">\r\n                        <p>\r\n                            <label htmlFor=\"user_login\">Username<br/>\r\n                                <input type=\"text\" name=\"un\" id=\"user_name\" className=\"form-control\" {...username} autoComplete=\"new-password\"/>\r\n                            </label>\r\n                        </p>\r\n                        <p>\r\n                            <label htmlFor=\"user_pass\">Password<br />\r\n                                <input type=\"password\" name=\"pwd\" id=\"user_pass\" className=\"input\" size=\"20\"  {...password} autoComplete=\"new-password\" />\r\n                            </label>\r\n                        </p>\r\n                        <p className=\"submit\">\r\n                            <input type=\"button\" name=\"wp-submit\" id=\"wp-submit\" className=\"btn btn-accent btn-block\"  value={loading ? 'Loading...' : 'Login'} onClick={handleLogin} disabled={loading} />\r\n                        </p>\r\n                    </form>\r\n\r\n                    <p id=\"nav\">\r\n                        <a href=\"#!\" title=\"Password Lost and Found\">Forgot password?</a> | <a href=\"#!\" title=\"Sign Up\">Sign Up</a>\r\n                    </p>\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        </Col>\r\n\r\n                    </Row>\r\n                </div>\r\n            </div>\r\n        );\r\n    // }\r\n}\r\n\r\nconst useFormInput = initialValue => {\r\n    const [value, setValue] = useState(initialValue);\r\n   \r\n    const handleChange = e => {\r\n      setValue(e.target.value);\r\n    }\r\n    return {\r\n      value,\r\n      onChange: handleChange\r\n    }\r\n  }\r\n\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}